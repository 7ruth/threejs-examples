<DOCTYPE html>
<html>
<head>
<title>glsl</title>
<style>
body{
	padding:0;
	margin:0;
	background:#333;
}
</style>
<script src="../lib/three_r50.min.js"></script>
<script>
window.addEventListener( 'DOMContentLoaded', function(){
	
	var width = window.innerWidth;
	var height = window.innerHeight;
	var renderer, scene, camera, light, mesh;

	var vertexShaderSource = [
		'void main(void){',
		'   gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );',
		'}'
	].join( '\n' );

	var fragmentShaderSource = [
		'void main(void){',
		'   gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );',
		'}'
	].join( '\n' );
	
	init();
	//anim();
	renderer.render( scene, camera );
	
	function init(){
		renderer = new THREE.WebGLRenderer();
		renderer.setSize( width, height );
		document.body.appendChild( renderer.domElement );

		scene = new THREE.Scene();
		
		camera = new THREE.PerspectiveCamera( 40, width / height, 1, 1000 );
		camera.position.set( 200, 200, 200 );
		camera.lookAt( scene.position );
		scene.add( camera );
		
		light = new THREE.DirectionalLight( 0xffffff, 1 );
		light.position.set( -1, 1, 1 );
		scene.add( light );

	    var geometry = new THREE.SphereGeometry( 100, 16, 16 );	
	    var material = new THREE.ShaderMaterial( {
			vertexShader: vertexShaderSource,
			fragmentShader: fragmentShaderSource
		} );
	    mesh = new THREE.Mesh( geometry, material );
	    scene.add( mesh );
	}
	
//	function anim() {
//		renderer.render( scene, camera );
//		requestAnimationFrame( anim );
//	}
}, false);
		</script>
</head>
<body>
</body>
</html>